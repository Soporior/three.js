<!--
 * @Author: lxf
 * @Date: 2023-09-19 15:16:03
 * @LastEditors: lxf
 * @LastEditTime: 2023-09-19 15:24:22
 * @FilePath: \three.js\examples\08_添加平行光辅助器.html
-->
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta
            name="viewport"
            content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"
        />
        <title>three.js css2d - label</title>
        <link type="text/css" rel="stylesheet" href="main.css" />
        <style></style>
    </head>

    <body>
        <div id="webgl" style="margin-top: 200px; margin-left: 100px"></div>

        <script type="importmap">
            {
                "imports": {
                    "three": "../build/three.module.js",
                    "three/addons/": "./jsm/"
                }
            }
        </script>

        <script type="module">
            import * as THREE from 'three';
            import { OrbitControls } from 'three/addons/controls/OrbitControls.js';
            const width = 800;
            const height = 500;
            const scene = new THREE.Scene();

            const boxGeometry = new THREE.BoxGeometry(50, 50, 50);
            // MeshBasicMaterial 不受光照影响
            // MeshLambertMaterial 受光照影响
            const material = new THREE.MeshLambertMaterial({
                color: 0xf11575,
                transparent: true,
                opacity: 1,
            });
            const meshInstance = new THREE.Mesh(boxGeometry, material);
            meshInstance.position.set(0, 10, 0);
            scene.add(meshInstance);

            const camera = new THREE.PerspectiveCamera(
                30,
                width / height,
                1,
                3000
            );
            camera.position.set(200, 200, 200);
            camera.lookAt(meshInstance.position);
            const renderer = new THREE.WebGLRenderer();
            // 添加辅助轴
            const axis = new THREE.AxesHelper(159);
            scene.add(axis);

            // // 添加点 光源
            // const pointLight = new THREE.PointLight(0xffffff, 1, 10000000, 0.1);
            // pointLight.position.set(100, 300, 400);
            // scene.add(pointLight);

            // 添加环境光 光源
            const ambient = new THREE.AmbientLight(0xffffff, 0.4);
            scene.add(ambient);

            //添加平行光 光源
            const directionalLight = new THREE.DirectionalLight(0xffffff, 1.0);
            directionalLight.position.set(50, 100, 60);
            scene.add(directionalLight);

            // //添加可视化点光源
            // const pointLightMesh = new THREE.PointLightHelper(pointLight, 10);
            // scene.add(pointLightMesh);

            //添加可视化点光源
            const directionalLightMesh = new THREE.DirectionalLightHelper(
                directionalLight,
                10
            );
            scene.add(directionalLightMesh);

            renderer.setSize(width, height);
            renderer.render(scene, camera);

            document.getElementById('webgl').appendChild(renderer.domElement);

            // 创建一个相机控件实例
            const cameraControl = new OrbitControls(
                camera,
                renderer.domElement
            );
            cameraControl.addEventListener('change', () => {
                // console.log(camera.position);
                renderer.render(scene, camera);
            });
        </script>
    </body>
</html>
